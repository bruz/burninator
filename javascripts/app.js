((function(){"use strict";if(!this.require){var a={},b={},c={}.hasOwnProperty,d=function(a,b){var c=[],d,e;/^\.\.?(\/|$)/.test(b)?d=[a,b].join("/").split("/"):d=b.split("/");for(var f=0,g=d.length;f<g;f++)e=d[f],e==".."?c.pop():e!="."&&e!=""&&c.push(e);return c.join("/")},e=function(e,f){var g=f?b:a,h;if(c.call(g,e))return e;h=d(e,"./index");if(c.call(g,h))return h},f=function(a,c,d){var e={id:c,exports:{}};try{b[c]=e.exports,d(e.exports,function(a){return g(a,h(c))},e),b[c]=e.exports}catch(f){throw delete b[c],f}return b[c]},g=function(c,g){var h=d(g,c),i;if(i=e(h,!0))return b[i];if(i=e(h,!1))return f(c,i,a[i]);throw new Error("Cannot find module '"+c+"'")},h=function(a){return a.split("/").slice(0,-1).join("/")};this.require=function(a){return g(a,"")},this.require.brunch=!0,this.require.define=function(b){for(var d in b)c.call(b,d)&&(a[d]=b[d])}}})).call(this),this.require.define({application:function(a,b,c){((function(){var a;a={initialize:function(){var a,c,d;return c=b("views/projects_view"),a=b("collections/projects"),d=b("lib/router"),this.projects=new a,this.projectsView=new c({projects:this.projects}),this.setUsername(),this.router=new d,typeof Object.freeze=="function"?Object.freeze(this):void 0},setUsername:function(){var a;a=Parse.User.current();if(a)return $("#username").html("signed in as "+a.get("username"))}},c.exports=a})).call(this)}}),this.require.define({"collections/collection":function(a,b,c){((function(){var a,b=Object.prototype.hasOwnProperty,d=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};c.exports=a=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return d(b,a),b}(Parse.Collection)})).call(this)}}),this.require.define({"collections/projects":function(a,b,c){((function(){var a,d,e,f=Object.prototype.hasOwnProperty,g=function(a,b){function d(){this.constructor=a}for(var c in b)f.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};a=b("./collection"),d=b("models/project"),c.exports=e=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.model=d,b}(a)})).call(this)}}),this.require.define({"collections/tasks":function(a,b,c){((function(){var a,d,e,f=Object.prototype.hasOwnProperty,g=function(a,b){function d(){this.constructor=a}for(var c in b)f.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};a=b("./collection"),d=b("models/task"),c.exports=e=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.model=d,b.prototype.comparator=function(a){return a.get("name")},b}(a)})).call(this)}}),this.require.define({initialize:function(a,b,c){((function(){var a;a=b("application"),$(function(){return Parse.initialize("rRUG9Y1Q3H0mJxasSpa3LwBemfMfJbPnQ2x33MGv","Po5ZWBMXhuN4q6eLrUSZwRk725cO9A5SOkLICF9q"),a.initialize({pushState:!0}),Backbone.history.start()})})).call(this)}}),this.require.define({"lib/router":function(a,b,c){((function(){var a,d,e,f,g,h,i,j,k=Object.prototype.hasOwnProperty,l=function(a,b){function d(){this.constructor=a}for(var c in b)k.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};j=b("application"),a=b("views/new_project_view"),f=b("views/project_detail_view"),d=b("views/new_task_view"),i=b("views/signup_view"),h=b("views/signin_view"),e=b("models/project"),c.exports=g=function(b){function c(){c.__super__.constructor.apply(this,arguments)}return l(c,b),c.prototype.routes={"":"signin",signin:"signin",signup:"signup",signout:"signout",projects:"projects","projects/new":"newProject","projects/:id":"project","projects/:id/tasks/new":"newTask"},c.prototype.home=function(){return this._clearPage()},c.prototype.projects=function(){return this._clearPage(),this._loadSidebar()},c.prototype.signin=function(){var a,b;return this._clearPage(),this._signedIn()?this.navigate("projects",{trigger:!0}):(a=this,b=new h({complete:function(b){return b?(j.setUsername(),a.navigate("projects",{trigger:!0})):a.navigate("",{trigger:!0})}}),$("body").append(b.render().el))},c.prototype.signup=function(){var a,b;return this._clearPage(),this._signedIn()?this.navigate("projects",{trigger:!0}):(a=this,b=new i({complete:function(b){return b?(j.setUsername(),a.navigate("projects",{trigger:!0})):a.navigate("",{trigger:!0})}}),$("body").append(b.render().el))},c.prototype.signout=function(){return Parse.User.logOut(),this.navigate("signin",{trigger:!0})},c.prototype.newProject=function(){var b,c;return this._loadSidebar(),b=this,c=new a({projects:j.projects,complete:function(a){return b.navigate("projects/"+a,{trigger:!0})}}),$("body").append(c.render().el)},c.prototype.project=function(a){return this._loadSidebar(a),e.load(a).done(function(a){var b;return b=new f({model:a,el:$("#project"),tab:"tasks"})}).fail(function(){return console.log("Failed to retrieve project")})},c.prototype.newTask=function(a){var b,c;return this._loadSidebar(a),b=this,c=new d({projectId:a,complete:function(){return b.navigate("projects/"+a,{trigger:!0})}}),$("body").append(c.render().el)},c.prototype._loadSidebar=function(a){return j.projectsView.update({currentId:a})},c.prototype._clearPage=function(){return $(".modal").modal("hide"),$("#project").html(""),$("#projects").html("")},c.prototype._signedIn=function(){return Parse.User.current()},c}(Backbone.Router)})).call(this)}}),this.require.define({"lib/view_helper":function(a,b,c){((function(){Handlebars.registerHelper("textIf",function(a,b){return b?a:""})})).call(this)}}),this.require.define({"models/model":function(a,b,c){((function(){var a,b=Object.prototype.hasOwnProperty,d=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};c.exports=a=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return d(b,a),b}(Parse.Object)})).call(this)}}),this.require.define({"models/project":function(a,b,c){((function(){var a,d,e,f,g=Object.prototype.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};a=b("./model"),f=b("collections/tasks"),e=b("models/task"),c.exports=d=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return h(b,a),b.prototype.className="Project",b.load=function(a){var c,d;return c=$.Deferred(),d=new Parse.Query(b),d.get(a,{success:function(a){var b;return b=new Parse.Query(e),b.equalTo("parent",a),b.find({success:function(b){return a.tasks.reset(b),c.resolve(a)},error:function(a,b){return c.reject()}})},error:function(a,b){return c.reject()}}),c},b.prototype.initialize=function(){return this.tasks=new f},b.prototype.fetchTasks=function(){var a;return a=this},b.prototype.startDate=function(){return new Date(this.get("startDate"))},b.prototype.endDate=function(){return new Date(this.get("endDate"))},b.prototype.formStartDate=function(){return this.startDate().toString("M/d/yyyy")},b.prototype.formEndDate=function(){return this.endDate().toString("M/d/yyyy")},b.prototype.totalHoursOn=function(a){return this.tasks.reduce(function(b,c){var d,e;return d=c.totalHours(),e=new Date(c.get("date")),isNaN(d)||e>a?b:b+=d},0)},b.prototype.remainingHoursOn=function(a){return this.tasks.reduce(function(b,c){var d;return d=new Date(c.get("date")),d<=a?b+=c.remainingHoursOn(a):b},0)},b.prototype.graphData=function(){var a,b,c,d,e,f,g,h,i;c=[],g=!1,i=Date.today(),d=this.endDate(),b=this.startDate(),f=this.totalHoursOn(b),h=(d-b)/864e5,e=f/h;while(b<=d){b>i?a=null:a=this.remainingHoursOn(b),c.push({date:b.getTime(),estimatedHours:f,actualHours:a});if(f>0||a>0)g=!0;b.add(1).day(),f-=e}return g?c:null},b}(a)})).call(this)}}),this.require.define({"models/task":function(a,b,c){((function(){var a,d,e=Object.prototype.hasOwnProperty,f=function(a,b){function d(){this.constructor=a}for(var c in b)e.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};a=b("./model"),c.exports=d=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return f(b,a),b.prototype.className="Task",b.prototype.completedHours=function(){var a;return a=this.get("hours"),_.reduce(a,function(a,b){return b.hours?a-b.hours:a},0)},b.prototype.changeHours=function(a,b){var c;return c=this.get("hours"),b||(b=Date.today().toString("M/d/yyyy")),c.push({date:b,hours:a}),this.trigger("change:hours")},b.prototype.remainingHours=function(){var a;return a=this.get("hours"),this.get("initialHours")+_.reduce(a,function(a,b){return a+=b.hours},0)},b.prototype.remainingHoursOn=function(a){var b;return b=this.get("hours"),this.get("initialHours")+_.reduce(b,function(b,c){var d;return d=new Date(c.date),d<=a?b+=c.hours:b},0)},b.prototype.totalHours=function(){var a;return a=this.get("hours"),this.get("initialHours")+_.reduce(a,function(a,b){return b>0?a+=b.hours:a},0)},b.prototype.totalHoursOn=function(a){var b;return b=this.get("hours"),this.get("initialHours")+_.reduce(b,function(b,c){var d;return d=new Date(c.date),c>0&&d<=a?b+=c.hours:b},0)},b.prototype.complete=function(){return this.changeHours(-this.remainingHours())},b}(a)})).call(this)}}),this.require.define({"views/hour_change_view":function(a,b,c){((function(){var a,d,e,f=Object.prototype.hasOwnProperty,g=function(a,b){function d(){this.constructor=a}for(var c in b)f.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=b("./view"),e=b("./templates/hour_change"),c.exports=a=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.template=e,b.prototype.tagName="tr",b.prototype.className="hour-change",b.prototype.initialize=function(a){return this.change=a.change},b.prototype.getRenderData=function(){return{theDate:this.change.date,isIncrease:this.change.hours>0,hours:Math.abs(this.change.hours)}},b}(d)})).call(this)}}),this.require.define({"views/new_project_view":function(a,b,c){((function(){var a,d,e,f,g=Object.prototype.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};e=b("./view"),d=b("models/project"),f=b("./templates/new_project"),c.exports=a=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return h(b,a),b.prototype.template=f,b.prototype.initialize=function(a){return this.callback=a.complete,this.projects=a.projects,this.project=new d,this.project.setACL(new Parse.ACL(Parse.User.current()))},b.prototype.afterRender=function(){var a;return this.setupDatePickers(),a=this,this.$(".modal").modal().on("hide",function(b){if(b.target!==b.currentTarget)return;return a.callback(a.project.id),$(a.el).remove()})},b.prototype.events={"click .create":"create"},b.prototype.create=function(a){var b;return a.preventDefault(),this.$(".create").button("loading"),b=this,this.project.save({name:b.$(".name").val(),startDate:b.$(".start-date input").val(),endDate:this.$(".end-date input").val()},{success:function(a){return b.projects.add(a),b.$(".modal").modal("hide")},error:function(a,b){return console.log("FAIL: "+b)}})},b}(e)})).call(this)}}),this.require.define({"views/new_task_view":function(a,b,c){((function(){var a,d,e,f,g,h=Object.prototype.hasOwnProperty,i=function(a,b){function d(){this.constructor=a}for(var c in b)h.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};f=b("./view"),e=b("models/task"),d=b("models/project"),g=b("./templates/new_task"),c.exports=a=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.template=g,b.prototype.initialize=function(a){return this.callback=a.complete,this.projectId=a.projectId,this.task=new e,this.task.setACL(new Parse.ACL(Parse.User.current()))},b.prototype.afterRender=function(){var a;return this.setupDatePickers(),a=this,this.$(".modal").modal().on("hide",function(b){if(b.target!==b.currentTarget)return;return a.callback(),$(a.el).remove()})},b.prototype.events={"click .create":"create"},b.prototype.create=function(a){var b,c,e,f,g;return a.preventDefault(),this.$(".create").button("loading"),g=this,e=g.$(".name").val(),b=g.$(".date-created input").val(),c=parseInt(this.$(".hours").val()),f=new d,f.id=this.projectId,this.task.set("parent",f),this.task.save({parent:f,name:e,date:b,initialHours:c,hours:[]},{success:function(a){return g.$(".modal").modal("hide"),g.callback()},error:function(a,b){return console.log("FAIL: "+b)}})},b}(f)})).call(this)}}),this.require.define({"views/project_detail_view":function(a,b,c){((function(){var a,d,e,f,g=Object.prototype.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};e=b("./view"),d=b("views/tasks_view"),f=b("./templates/project_detail"),c.exports=a=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return h(b,a),b.prototype.template=f,b.prototype.initialize=function(a){var b;return this.tab=a.tab,this.render(),this.tasksView=new d({el:this.$(".tasks"),tasks:this.model.tasks,project:this.model}),b=this,this.model.tasks.on("all",function(){return b.drawGraph()}),$(window).resize(function(){return b.drawGraph()})},b.prototype.getRenderData=function(){return{tab:this.tab,name:this.model.get("name"),startDate:this.model.formStartDate(),endDate:this.model.formEndDate()}},b.prototype.afterRender=function(){return this.$(".date").datepicker(),this.drawGraph()},b.prototype.drawGraph=function(){var a;a=this.model.graphData();if(a)return $("#burndown").html(""),Morris.Line({element:"burndown",data:a,xkey:"date",ykeys:["estimatedHours","actualHours"],labels:["Esimated","Actual"],lineColors:["#167f39","#044c29"],lineWidth:2,smooth:!1,dateFormat:this.dateFormat,xLabelFormat:this.dateFormat})},b.prototype.dateFormat=function(a){return(new Date(a)).toString("M/d/yyyy")},b.prototype.events={"click .reset":"resetForm"},b.prototype.resetForm=function(){return this.render()},b}(e)})).call(this)}}),this.require.define({"views/project_view":function(a,b,c){((function(){var a,d,e,f=Object.prototype.hasOwnProperty,g=function(a,b){function d(){this.constructor=a}for(var c in b)f.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=b("./view"),e=b("./templates/project"),c.exports=a=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.template=e,b.prototype.tagName="li",b.prototype.getRenderData=function(){return{name:this.model.get("name"),id:this.model.id}},b}(d)})).call(this)}}),this.require.define({"views/projects_view":function(a,b,c){((function(){var a,d,e,f,g=Object.prototype.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};e=b("./view"),a=b("./project_view"),f=b("./templates/projects"),c.exports=d=function(b){function c(){c.__super__.constructor.apply(this,arguments)}return h(c,b),c.prototype.template=f,c.prototype.el="#projects",c.prototype.initialize=function(a){return _.bindAll(this,"addAll","addOne"),this.projects=a.projects,this.projects.on("reset",this.render,this),this.projects.on("add",this.addOne,this),this.projects.fetch(),this.currentUser=Parse.User.current()},c.prototype.afterRender=function(){return this.addAll()},c.prototype.update=function(a){return this.currentId=a.currentId,this.currentUser===Parse.User.current()?this.render():this.projects.fetch()},c.prototype.addAll=function(){return this.projects.each(this.addOne)},c.prototype.addOne=function(b){var c,d;return c=this.currentId===b.id?"active":"",d=new a({model:b,className:c}),$("#project-list").append(d.render().el)},c}(e)})).call(this)}}),this.require.define({"views/signin_view":function(a,b,c){((function(){var a,d,e,f=Object.prototype.hasOwnProperty,g=function(a,b){function d(){this.constructor=a}for(var c in b)f.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=b("./view"),e=b("./templates/signin"),c.exports=a=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.template=e,b.prototype.initialize=function(a){return this.callback=a.complete},b.prototype.afterRender=function(){var a;return a=this,this.$(".modal").modal().on("hide",function(b){return $(a.el).remove(),a.callback()})},b.prototype.events={"click .signin":"signin"},b.prototype.signin=function(a){var b,c,d;return a.preventDefault(),c=this.$(".username").val(),b=this.$(".password").val(),d=this,Parse.User.logIn(c,b,{success:function(a){return d.$(".modal").modal("hide"),$(d.el).remove(),d.callback(a)},error:function(a,b){return d.$(".error").html(b.message)}})},b}(d)})).call(this)}}),this.require.define({"views/signup_view":function(a,b,c){((function(){var a,d,e,f=Object.prototype.hasOwnProperty,g=function(a,b){function d(){this.constructor=a}for(var c in b)f.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=b("./view"),e=b("./templates/signup"),c.exports=a=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.template=e,b.prototype.initialize=function(a){return this.callback=a.complete},b.prototype.afterRender=function(){var a;return a=this,this.$(".modal").modal().on("hide",function(b){return $(a.el).remove(),a.callback()})},b.prototype.events={"click .signup":"signup"},b.prototype.signup=function(a){var b,c;return a.preventDefault(),b=new Parse.User({username:this.$(".username").val(),email:this.$(".email").val(),password:this.$(".password").val()}),c=this,b.signUp(null,{success:function(a){return c.$(".modal").modal("hide"),$(c.el).remove(),c.callback(a)},error:function(a,b){return c.$(".error").html(b.message)}})},b}(d)})).call(this)}}),this.require.define({"views/task_add_hours_view":function(a,b,c){((function(){var a,d,e,f=Object.prototype.hasOwnProperty,g=function(a,b){function d(){this.constructor=a}for(var c in b)f.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=b("./view"),e=b("./templates/task_add_hours"),c.exports=a=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.template=e,b.prototype.initialize=function(a){return this.task=a.task,$("body").append(this.render().el)},b.prototype.afterRender=function(){var a;return this.setupDatePickers(),a=this,this.$(".modal").modal().on("hide",function(b){if(b.target!==b.currentTarget)return;return $(a.el).remove()})},b.prototype.events={"click .save":"save","click .exit":"exit"},b.prototype.save=function(a){var b,c;return a.preventDefault(),b=parseInt(this.$(".hours").val()),c=this.$(".date input").val(),this.model.changeHours(b,c),this.model.save(),this.$(".modal").modal("hide")},b.prototype.exit=function(a){return a.preventDefault(),this.$(".modal").modal("hide")},b}(d)})).call(this)}}),this.require.define({"views/task_detail_view":function(a,b,c){((function(){var a,d,e,f,g=Object.prototype.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};e=b("./view"),a=b("./hour_change_view"),f=b("./templates/task_detail"),c.exports=d=function(b){function c(){c.__super__.constructor.apply(this,arguments)}return h(c,b),c.prototype.template=f,c.prototype.initialize=function(a){return _.bindAll(this,"addHourChange"),this.callback=a.complete,this.task=a.task,$("body").append(this.render().el)},c.prototype.afterRender=function(){var a,b;return b=this,a=_.sortBy(this.model.get("hours"),function(a){return a.date}),_.each(a,function(a){return b.addHourChange(a)}),b=this,this.$(".modal").modal().on("hide",function(a){if(a.target!==a.currentTarget)return;return $(b.el).remove()})},c.prototype.getRenderData=function(){return{name:this.model.get("name"),totalHours:this.model.totalHours(),remainingHours:this.model.remainingHours()}},c.prototype.addHourChange=function(b){var c;return c=new a({change:b}),this.$(".change-list").append(c.render().el)},c.prototype.events={"click .exit":"exit"},c.prototype.exit=function(a){return a.preventDefault(),this.$(".modal").modal("hide")},c}(e)})).call(this)}}),this.require.define({"views/task_subtract_hours_view":function(a,b,c){((function(){var a,d,e,f=Object.prototype.hasOwnProperty,g=function(a,b){function d(){this.constructor=a}for(var c in b)f.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=b("./view"),e=b("./templates/task_subtract_hours"),c.exports=a=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.template=e,b.prototype.initialize=function(a){return this.task=a.task,$("body").append(this.render().el)},b.prototype.afterRender=function(){var a;return this.setupDatePickers(),a=this,this.$(".modal").modal().on("hide",function(b){if(b.target!==b.currentTarget)return;return $(a.el).remove()})},b.prototype.events={"click .save":"save","click .exit":"exit"},b.prototype.save=function(a){var b,c;return a.preventDefault(),b=parseInt(this.$(".hours").val()),c=this.$(".date input").val(),this.model.changeHours(-b,c),this.model.save(),this.$(".modal").modal("hide")},b.prototype.exit=function(a){return a.preventDefault(),this.$(".modal").modal("hide")},b}(d)})).call(this)}}),this.require.define({"views/task_view":function(a,b,c){((function(){var a,d,e,f,g,h,i=Object.prototype.hasOwnProperty,j=function(a,b){function d(){this.constructor=a}for(var c in b)i.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};g=b("./view"),d=b("./task_detail_view"),a=b("./task_add_hours_view"),e=b("./task_subtract_hours_view"),h=b("./templates/task"),c.exports=f=function(b){function c(){c.__super__.constructor.apply(this,arguments)}return j(c,b),c.prototype.template=h,c.prototype.tagName="tr",c.prototype.className="task",c.prototype.initialize=function(){return this.model.on("all",this.render,this)},c.prototype.getRenderData=function(){return{name:this.model.get("name"),totalHours:this.model.totalHours(),completedHours:this.model.completedHours(),remainingHours:this.model.remainingHours()}},c.prototype.afterRender=function(){var a;return a=this},c.prototype.events={"click .add":"add","click .subtract":"subtract","click .details":"details","click .delete":"deleteTask","click .complete":"complete"},c.prototype.add=function(b){return b.preventDefault(),new a({model:this.model})},c.prototype.subtract=function(a){return a.preventDefault(),new e({model:this.model})},c.prototype.details=function(a){return a.preventDefault(),new d({model:this.model})},c.prototype.deleteTask=function(a){var b;return a.preventDefault(),b=this,this.model.destroy({success:function(){return $(b.el).remove()}})},c.prototype.complete=function(a){return a.preventDefault(),this.model.complete(),this.model.save()},c}(g)})).call(this)}}),this.require.define({"views/tasks_view":function(a,b,c){((function(){var a,d,e,f,g=Object.prototype.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};e=b("./view"),a=b("./task_view"),f=b("./templates/tasks"),c.exports=d=function(b){function c(){c.__super__.constructor.apply(this,arguments)}return h(c,b),c.prototype.template=f,c.prototype.initialize=function(a){return this.tasks=a.tasks,this.project=a.project,this.tasks.on("reset",this.addAll,this),this.tasks.on("add",this.prependOne,this),this.render()},c.prototype.getRenderData=function(){return{projectId:this.project.id}},c.prototype.afterRender=function(){return this.addAll()},c.prototype.addAll=function(){return this.tasks.each(this.appendOne)},c.prototype.appendOne=function(b){var c;return c=new a({model:b}),this.$(".task-list").append(c.render().el)},c.prototype.prependOne=function(b){var c;return c=new a({model:b}),this.$(".task-list").prepend(c.render().el)},c}(e)})).call(this)}}),this.require.define({"views/templates/hour_change":function(a,b,c){c.exports=Handlebars.template(function(a,b,c,d,e){function p(a,b){return'\n      <i class="icon-arrow-up"></i>\n    '}function q(a,b){return'\n      <i class="icon-arrow-down"></i>\n    '}function r(a,b){return"\n      increase \n    "}function s(a,b){return"\n      decrease\n    "}c=c||a.helpers;var f="",g,h,i,j,k=this,l="function",m=c.helperMissing,n=void 0,o=this.escapeExpression;f+='<td>\n  <div class="date">',i=c.theDate,g=i||b.theDate,typeof g===l?g=g.call(b,{hash:{}}):g===n&&(g=m.call(b,"theDate",{hash:{}})),f+=o(g)+'</div>\n\n  <div class="arrow">\n    ',i=c.isIncrease,g=i||b.isIncrease,h=c["if"],j=k.program(1,p,e),j.hash={},j.fn=j,j.inverse=k.program(3,q,e),g=h.call(b,g,j);if(g||g===0)f+=g;f+='\n  </div>\n\n  <div class="hours">\n    ',i=c.hours,g=i||b.hours,typeof g===l?g=g.call(b,{hash:{}}):g===n&&(g=m.call(b,"hours",{hash:{}})),f+=o(g)+" hour\n\n    ",i=c.isIncrease,g=i||b.isIncrease,h=c["if"],j=k.program(5,r,e),j.hash={},j.fn=j,j.inverse=k.program(7,s,e),g=h.call(b,g,j);if(g||g===0)f+=g;return f+="\n  </div>\n</td>",f})}}),this.require.define({"views/templates/new_project":function(a,b,c){c.exports=Handlebars.template(function(a,b,c,d,e){c=c||a.helpers;var f,g=this;return'<div class="modal hide">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal">×</button>\n    <h3>New Project</h3>\n  </div>\n  <div class="modal-body">\n    <form class="form-horizontal">\n      <div class="control-group">\n        <label class="control-label" for="input01">Project Name</label>\n        <div class="controls">\n          <input type="text" class="input-xlarge name">\n        </div>\n      </div>\n\n      <div class="control-group">\n        <label class="control-label" for="input01">Start Date</label>\n        <div class="controls">\n          <div class="start-date input-append date" data-date="06/09/2012">\n            <input size="16" type="text" value="06/09/2012" readonly>\n            <span class="add-on"><i class="icon-th"></i></span>\n          </div>\n        </div>\n      </div>\n\n      <div class="control-group">\n        <label class="control-label" for="input01">Target End Date</label>\n        <div class="controls">\n          <div class="end-date input-append date" data-date="06/09/2012">\n            <input size="16" type="text" value="06/09/2012" readonly>\n            <span class="add-on"><i class="icon-th"></i></span>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div class="modal-footer">\n    <a href="#" class="btn" data-dismiss="modal">Cancel</a>\n    <a href="#" class="create btn btn-primary" data-loading-text="Creating...">Create Project</a>\n  </div>\n</div>\n'})}}),this.require.define({"views/templates/new_task":function(a,b,c){c.exports=Handlebars.template(function(a,b,c,d,e){c=c||a.helpers;var f,g=this;return'<div class="modal hide">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal">×</button>\n    <h3>New Task</h3>\n  </div>\n  <div class="modal-body">\n    <form class="form-horizontal">\n      <div class="control-group">\n        <label class="control-label" for="input01">Task Name</label>\n        <div class="controls">\n          <input type="text" class="input-xlarge name">\n        </div>\n      </div>\n\n      <div class="control-group">\n        <label class="control-label" for="input01">Date Created</label>\n        <div class="controls">\n          <div class="date-created input-append date" data-date="06/09/2012">\n            <input size="16" type="text" value="06/09/2012" readonly>\n            <span class="add-on"><i class="icon-th"></i></span>\n          </div>\n        </div>\n      </div>\n\n      <div class="control-group">\n        <label class="control-label" for="input01">Remaining Hours</label>\n        <div class="controls">\n          <input type="text" class="input-xlarge hours">\n        </div>\n      </div>\n    </form>\n  </div>\n  <div class="modal-footer">\n    <a href="#" class="btn" data-dismiss="modal">Cancel</a>\n    <a href="#" class="create btn btn-primary" data-loading-text="Creating...">Create Task</a>\n  </div>\n</div>\n'})}}),this.require.define({"views/templates/project":function(a,b,c){c.exports=Handlebars.template(function(a,b,c,d,e){c=c||a.helpers;var f="",g,h,i=this,j="function",k=c.helperMissing,l=void 0,m=this.escapeExpression;return f+='<a href="#projects/',h=c.id,g=h||b.id,typeof g===j?g=g.call(b,{hash:{}}):g===l&&(g=k.call(b,"id",{hash:{}})),f+=m(g)+'">',h=c.name,g=h||b.name,typeof g===j?g=g.call(b,{hash:{}}):g===l&&(g=k.call(b,"name",{hash:{}})),f+=m(g)+"</a>\n",f})}}),this.require.define({"views/templates/project_detail":function(a,b,c){c.exports=Handlebars.template(function(a,b,c,d,e){c=c||a.helpers;var f="",g,h,i=this,j="function",k=c.helperMissing,l=void 0,m=this.escapeExpression;return f+="<h3>",h=c.name,g=h||b.name,typeof g===j?g=g.call(b,{hash:{}}):g===l&&(g=k.call(b,"name",{hash:{}})),f+=m(g)+'</h3>\n\n<div id="burndown"></div>\n\n<div class="tabbable">\n  <ul class="nav nav-tabs">\n    <li class="active"><a href="#tab1" data-toggle="tab">Tasks</a></li>\n    <li><a href="#tab2" data-toggle="tab">Project Info</a></li>\n  </ul>\n  <div class="tab-content">\n    <div class="tasks tab-pane active" id="tab1"></div>\n    \n    <div class="tab-pane" id="tab2">\n      <form class="form-horizontal well">\n        <div class="control-group">\n          <label class="control-label" for="input01">Project Name</label>\n          <div class="controls">\n            <input type="text" class="input-xlarge name uneditable-input" value="',h=c.name,g=h||b.name,typeof g===j?g=g.call(b,{hash:{}}):g===l&&(g=k.call(b,"name",{hash:{}})),f+=m(g)+'">\n          </div>\n        </div>\n\n        <div class="control-group">\n          <label class="control-label" for="input01">Start Date</label>\n          <div class="controls">\n            <input type="text" class="input-xlarge name uneditable-input" value="',h=c.startDate,g=h||b.startDate,typeof g===j?g=g.call(b,{hash:{}}):g===l&&(g=k.call(b,"startDate",{hash:{}})),f+=m(g)+'">\n          </div>\n        </div>\n\n        <div class="control-group">\n          <label class="control-label" for="input01">Target End Date</label>\n          <div class="controls">\n            <input type="text" class="input-xlarge name uneditable-input" value="',h=c.endDate,g=h||b.endDate,typeof g===j?g=g.call(b,{hash:{}}):g===l&&(g=k.call(b,"endDate",{hash:{}})),f+=m(g)+'">\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>',f})}}),this.require.define({"views/templates/projects":function(a,b,c){c.exports=Handlebars.template(function(a,b,c,d,e){c=c||a.helpers;var f,g=this;return'<h3>\n  Projects\n</h3>\n  <a href="#projects/new" class="add">Add</a>\n\n<ul id="project-list" class="nav nav-tabs nav-stacked">\n</ul>\n'})}}),this.require.define({"views/templates/signin":function(a,b,c){c.exports=Handlebars.template(function(a,b,c,d,e){c=c||a.helpers;var f,g=this;return'<div class="auth modal hide">\n  <div class="modal-header">\n    <h3>Sign In</h3>\n  </div>\n  <div class="modal-body">\n    <form class="form-horizontal">\n      <div class="control-group">\n        <label class="control-label" for="input01">Username</label>\n        <div class="controls">\n          <input type="text" class="input-xlarge username" autofocus=true>\n        </div>\n      </div>\n\n      <div class="control-group">\n        <label class="control-label" for="input01">Password</label>\n        <div class="controls">\n          <input type="password" class="input-xlarge password">\n        </div>\n      </div>\n\n      <div class="control-group">\n        <div class="controls">\n          <p class="error"></p>\n          <p>Don\'t have an account yet? <a href="#signup">sign up</a></p>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div class="modal-footer">\n    <button class="signin btn btn-primary">Sign In</a>\n  </div>\n</div>\n'})}}),this.require.define({"views/templates/signup":function(a,b,c){c.exports=Handlebars.template(function(a,b,c,d,e){c=c||a.helpers;var f,g=this;return'<div class="auth modal hide">\n  <div class="modal-header">\n    <h3>Sign Up</h3>\n  </div>\n  <div class="modal-body">\n    <form class="form-horizontal">\n      <div class="control-group">\n        <label class="control-label" for="input01">Username</label>\n        <div class="controls">\n          <input type="text" class="input-xlarge username" autofocus=true>\n        </div>\n      </div>\n\n      <div class="control-group">\n        <label class="control-label" for="input01">Email</label>\n        <div class="controls">\n          <input type="text" class="input-xlarge email">\n        </div>\n      </div>\n\n      <div class="control-group">\n        <label class="control-label" for="input01">Password</label>\n        <div class="controls">\n          <input type="password" class="input-xlarge password">\n        </div>\n      </div>\n\n      <div class="control-group">\n        <div class="controls">\n          <p class="error"></p>\n          <p>Already have an account? <a href="#signin">sign in</a></p>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div class="modal-footer">\n    <button class="signup btn btn-primary">Sign Up</a>\n  </div>\n</div>\n'})}}),this.require.define({"views/templates/task":function(a,b,c){c.exports=Handlebars.template(function(a,b,c,d,e){c=c||a.helpers;var f="",g,h,i=this,j="function",k=c.helperMissing,l=void 0,m=this.escapeExpression;return f+='<td>\n\n  <div class="row-fluid">\n    <div class="span12">\n      <div class="row-fluid">\n        <div class="span4">\n          <div class="name">',h=c.name,g=h||b.name,typeof g===j?g=g.call(b,{hash:{}}):g===l&&(g=k.call(b,"name",{hash:{}})),f+=m(g)+'</div>\n        </div>\n\n        <div class="span4">\n          <div class="remaining">\n            <div class="hours">',h=c.remainingHours,g=h||b.remainingHours,typeof g===j?g=g.call(b,{hash:{}}):g===l&&(g=k.call(b,"remainingHours",{hash:{}})),f+=m(g)+'</div>HR remaining\n          </div>\n          \n          <div class="change">\n            <a class="subtract btn btn-small" href="#"><i class="icon-minus-sign"></i></a>\n            <a class="add btn btn-small" href="#"><i class="icon-plus-sign"></i></a>\n          </div>\n        </div>\n\n        <div class="span4">\n          <div class="actions">\n            <a href="#" class="complete btn btn-small"><i class="icon-ok"></i>Complete</a>\n            <a href="#" class="details btn btn-small">Details</a>\n            <a href="#" class="delete btn btn-danger btn-small"><i class="icon-remove icon-white"></i>Delete</a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</td>',f})}}),this.require.define({"views/templates/task_add_hours":function(a,b,c){c.exports=Handlebars.template(function(a,b,c,d,e){c=c||a.helpers;var f,g=this;return'<div class="modal hide">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal">×</button>\n    <h3>Increase Hours</h3>\n  </div>\n  <div class="modal-body">\n    <form class="form-horizontal">\n      <div class="control-group">\n        <label class="control-label" for="input01">Hours</label>\n        <div class="controls">\n          <input type="text" class="input-xlarge hours">\n        </div>\n      </div>\n\n      <div class="control-group">\n        <label class="control-label" for="input01">Date</label>\n        <div class="controls">\n          <div class="input-append date" data-date="06/09/2012">\n            <input size="16" type="text" value="06/09/2012" readonly>\n            <span class="add-on"><i class="icon-th"></i></span>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div class="modal-footer">\n    <a href="#" class="exit btn" >Cancel</a>\n    <a href="#" class="save btn btn-primary" data-loading-text="Saving...">Save</a>\n  </div>\n</div>\n'})}}),this.require.define({"views/templates/task_detail":function(a,b,c){c.exports=Handlebars.template(function(a,b,c,d,e){c=c||a.helpers;var f="",g,h,i=this,j="function",k=c.helperMissing,l=void 0,m=this.escapeExpression;return f+='<div class="modal hide">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal">×</button>\n    <h3>',h=c.name,g=h||b.name,typeof g===j?g=g.call(b,{hash:{}}):g===l&&(g=k.call(b,"name",{hash:{}})),f+=m(g)+'</h3>\n  </div>\n  <div class="modal-body">\n    <form class="form-horizontal">\n      <div class="control-group">\n        <label class="control-label">Initial Hours</label>\n        <div class="controls">\n          <span class="input-xlarge uneditable-input">',h=c.totalHours,g=h||b.totalHours,typeof g===j?g=g.call(b,{hash:{}}):g===l&&(g=k.call(b,"totalHours",{hash:{}})),f+=m(g)+'</span>\n        </div>\n      </div>\n\n      <div class="control-group">\n        <label class="control-label">Remaining Hours</label>\n        <div class="controls">\n          <span class="input-xlarge uneditable-input">',h=c.remainingHours,g=h||b.remainingHours,typeof g===j?g=g.call(b,{hash:{}}):g===l&&(g=k.call(b,"remainingHours",{hash:{}})),f+=m(g)+'</span>\n        </div>\n      </div>\n    </form>\n\n    <table class="table table-bordered table-striped">\n      <tbody class="change-list">\n      </tbody>\n    </table>\n  </div>\n  <div class="modal-footer">\n    <a href="#" class="exit btn btn-primary">Close</a>\n  </div>\n</div>\n',f})}}),this.require.define({"views/templates/task_subtract_hours":function(a,b,c){c.exports=Handlebars.template(function(a,b,c,d,e){c=c||a.helpers;var f,g=this;return'<div class="modal hide">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal">×</button>\n    <h3>Decrease Hours</h3>\n  </div>\n  <div class="modal-body">\n    <form class="form-horizontal">\n      <div class="control-group">\n        <label class="control-label" for="input01">Hours</label>\n        <div class="controls">\n          <input type="text" class="input-xlarge hours">\n        </div>\n      </div>\n\n      <div class="control-group">\n        <label class="control-label" for="input01">Date</label>\n        <div class="controls">\n          <div class="input-append date" data-date="06/09/2012">\n            <input size="16" type="text" value="06/09/2012" readonly>\n            <span class="add-on"><i class="icon-th"></i></span>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div class="modal-footer">\n    <a href="#" class="exit btn" >Cancel</a>\n    <a href="#" class="save btn btn-primary" data-loading-text="Saving...">Save</a>\n  </div>\n</div>\n'})}}),this.require.define({"views/templates/tasks":function(a,b,c){c.exports=Handlebars.template(function(a,b,c,d,e){c=c||a.helpers;var f="",g,h,i=this,j="function",k=c.helperMissing,l=void 0,m=this.escapeExpression;return f+='<p><a href="#projects/',h=c.projectId,g=h||b.projectId,typeof g===j?g=g.call(b,{hash:{}}):g===l&&(g=k.call(b,"projectId",{hash:{}})),f+=m(g)+'/tasks/new" class="add btn btn-primary">Add Task</a></p>\n\n<table class="table table-bordered table-striped">\n  <tbody class="task-list">\n  </tbody>\n</table>',f})}}),this.require.define({"views/view":function(a,b,c){((function(){var a,d=function(a,b){return function(){return a.apply(b,arguments)}},e=Object.prototype.hasOwnProperty,f=function(a,b){function d(){this.constructor=a}for(var c in b)e.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};b("lib/view_helper"),c.exports=a=function(a){function b(){this.render=d(this.render,this),b.__super__.constructor.apply(this,arguments)}return f(b,a),b.prototype.template=function(){},b.prototype.getRenderData=function(){},b.prototype.render=function(){return this.$el.html(this.template(this.getRenderData())),this.afterRender(),this},b.prototype.afterRender=function(){},b.prototype.setupDatePickers=function(){var a;return a=Date.today().toString("M/d/yyyy"),this.$(".date").attr("data-date",a),this.$(".date input").val(a),this.$(".date").datepicker()},b}(Backbone.View)})).call(this)}})